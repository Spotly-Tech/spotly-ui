version: 2.1
orbs:
  node: circleci/node@5
jobs: 
  lint_code:
    executor: node/default
    description: Lint code
    steps: 
      - checkout
      - node/install-packages:
        pkg-manager: npm
      - run: 
        command: npm run lint:fix
  run_tests:
    executor: node/default
      description: Run tests
      steps: 
        - checkout
        - node/install-packages:
          pkg-manager: npm
        - run: 
          command: npm run test
  build:
    executor: node/default
      description: Build
      steps: 
        - checkout
        - node/install-packages:
          pkg-manager: npm
        - run: 
          command: npm run build
  workflows:
    build_app:
      jobs:
        - lint_code
        - run_tests
        - build
